<!DOCTYPE html>
<html lang="en" class="bg-gray-900 text-white">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DevOps Wizardry RPG</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .task-item.completed,
    .book-item.completed {
      text-decoration: line-through;
      color: #22c55e;
    }
  </style>
</head>
<body class="p-8">

  <div class="max-w-5xl mx-auto bg-gray-800 rounded-2xl shadow-lg p-6">
    <h1 class="text-3xl font-bold mb-4 text-yellow-300">üßô‚Äç‚ôÇÔ∏è DevOps Wizardry RPG</h1>
    <p class="mb-4 text-gray-300">Complete 100 tasks and read 10 essential DevOps books to achieve true wizardry!</p>

    <!-- Progress Bars -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
      <div>
        <h2 class="text-lg font-semibold text-purple-300">Tasks Progress</h2>
        <div class="bg-gray-700 rounded-full h-4">
          <div id="progress-bar-tasks" class="bg-green-500 h-4 rounded-full" style="width: 0%"></div>
        </div>
        <p id="progress-text-tasks" class="text-sm mt-1 text-gray-300">0/100 tasks complete</p>
      </div>
      <div>
        <h2 class="text-lg font-semibold text-purple-300">Books Progress</h2>
        <div class="bg-gray-700 rounded-full h-4">
          <div id="progress-bar-books" class="bg-blue-500 h-4 rounded-full" style="width: 0%"></div>
        </div>
        <p id="progress-text-books" class="text-sm mt-1 text-gray-300">0/10 books complete</p>
      </div>
    </div>

    <!-- Grid layout for Tasks and Books -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <!-- Tasks Column (2/3 width) -->
      <div class="md:col-span-2">
        <h2 class="text-xl font-bold text-purple-300 mb-2">ü™Ñ DevOps Tasks</h2>
        <div id="levels-container" class="space-y-6"></div>
      </div>

      <!-- Books Column (1/3 width) -->
      <div>
        <h2 class="text-xl font-bold text-purple-300 mb-2">üìö DevOps Must-Read Books</h2>
        <ul id="book-list" class="space-y-2"></ul>
        <button id="reset-books-btn" class="mt-4 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition">Reset Books</button>
      </div>
    </div>

    <button id="reset-tasks-btn" class="mt-6 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition">Reset Tasks</button>
  </div>

  <script>
    // Elements
    const levelsContainer = document.getElementById('levels-container');
    const bookListEl = document.getElementById('book-list');
    const progressBarTasks = document.getElementById('progress-bar-tasks');
    const progressTextTasks = document.getElementById('progress-text-tasks');
    const progressBarBooks = document.getElementById('progress-bar-books');
    const progressTextBooks = document.getElementById('progress-text-books');
    const resetTasksBtn = document.getElementById('reset-tasks-btn');
    const resetBooksBtn = document.getElementById('reset-books-btn');

    const levels = [
      'Level 1: Git & Version Control Basics',
      'Level 2: Continuous Integration (CI)',
      'Level 3: Continuous Delivery (CD)',
      'Level 4: Containerization',
      'Level 5: Infrastructure as Code (IaC)',
      'Level 6: Cloud Fundamentals',
      'Level 7: Monitoring & Observability',
      'Level 8: Security & Compliance',
      'Level 9: Automation & Scripting',
      'Level 10: Scaling & Performance Tuning'
    ];

    const tasks = [];
    let taskId = 1;
    levels.forEach((level, i) => {
      for (let j = 1; j <= 10; j++) {
        let description;
        if (i === 0) {
          // Improved Level 1 tasks
          const level1Tasks = [
            'Initialize a Git repository (git init)',
            'Clone a remote repository (git clone)',
            'Configure Git user name and email',
            'Create a .gitignore file for your project',
            'Stage and commit changes (git add, git commit)',
            'View commit history (git log)',
            'Create and switch to a new branch (git branch, git checkout)',
            'Merge a branch into main (git merge)',
            'Resolve a merge conflict',
            'Push commits to a remote repository (git push)'
          ];
          description = `Level 1: ${level1Tasks[j - 1]}`;
        } else {
          description = `${level} - Task ${j}`;
        }
        tasks.push({
          id: taskId,
          level: i + 1,
          description: description,
          completed: false
        });
        taskId++;
      }
    });

    const savedTasks = JSON.parse(localStorage.getItem('devopsTasksByLevel')) || tasks;

    // Books Data
    const books = [
      { id: 1, title: 'The Phoenix Project' },
      { id: 2, title: 'The DevOps Handbook' },
      { id: 3, title: 'Accelerate' },
      { id: 4, title: 'Site Reliability Engineering' },
      { id: 5, title: 'Infrastructure as Code' },
      { id: 6, title: 'Kubernetes Up & Running' },
      { id: 7, title: 'Terraform: Up & Running' },
      { id: 8, title: 'Cloud Native DevOps with Kubernetes' },
      { id: 9, title: 'Effective DevOps' },
      { id: 10, title: 'Seeking SRE' }
    ];

    const savedBooks = JSON.parse(localStorage.getItem('devopsBooks')) || books.map(b => ({ ...b, completed: false }));

    // Render Tasks
    function renderLevels() {
      levelsContainer.innerHTML = '';
      levels.forEach((levelTitle, i) => {
        const levelTasks = savedTasks.filter(task => task.level === i + 1);
        const levelEl = document.createElement('div');
        levelEl.className = 'bg-gray-700 rounded p-4';

        const header = document.createElement('h2');
        header.className = 'text-lg font-bold text-purple-300 mb-2';
        header.textContent = levelTitle;
        levelEl.appendChild(header);

        const ul = document.createElement('ul');
        ul.className = 'space-y-2';
        levelTasks.forEach(task => {
          const li = document.createElement('li');
          li.className = 'flex items-center bg-gray-600 rounded p-2';
          li.innerHTML = `
            <input type="checkbox" class="mr-2" ${task.completed ? 'checked' : ''} data-id="${task.id}">
            <span class="task-item ${task.completed ? 'completed' : ''}">${task.description}</span>
          `;
          ul.appendChild(li);
        });

        levelEl.appendChild(ul);
        levelsContainer.appendChild(levelEl);
      });
      updateTaskProgress();
    }

    // Render Books
    function renderBooks() {
      bookListEl.innerHTML = '';
      savedBooks.forEach(book => {
        const li = document.createElement('li');
        li.className = 'flex items-center bg-gray-700 rounded p-2';
        li.innerHTML = `
          <input type="checkbox" class="mr-2" ${book.completed ? 'checked' : ''} data-id="${book.id}">
          <span class="book-item ${book.completed ? 'completed' : ''}">${book.title}</span>
        `;
        bookListEl.appendChild(li);
      });
      updateBookProgress();
    }

    // Update progress bars
    function updateTaskProgress() {
      const completed = savedTasks.filter(task => task.completed).length;
      const progress = (completed / savedTasks.length) * 100;
      progressBarTasks.style.width = `${progress}%`;
      progressTextTasks.textContent = `${completed}/100 tasks complete`;
    }

    function updateBookProgress() {
      const completed = savedBooks.filter(book => book.completed).length;
      const progress = (completed / savedBooks.length) * 100;
      progressBarBooks.style.width = `${progress}%`;
      progressTextBooks.textContent = `${completed}/10 books complete`;
    }

    // Event Listeners for Tasks
    levelsContainer.addEventListener('change', (e) => {
      if (e.target.tagName === 'INPUT') {
        const taskId = Number(e.target.getAttribute('data-id'));
        const task = savedTasks.find(t => t.id === taskId);
        task.completed = e.target.checked;
        localStorage.setItem('devopsTasksByLevel', JSON.stringify(savedTasks));
        renderLevels();
      }
    });

    // Event Listeners for Books
    bookListEl.addEventListener('change', (e) => {
      if (e.target.tagName === 'INPUT') {
        const bookId = Number(e.target.getAttribute('data-id'));
        const book = savedBooks.find(b => b.id === bookId);
        book.completed = e.target.checked;
        localStorage.setItem('devopsBooks', JSON.stringify(savedBooks));
        renderBooks();
      }
    });

    // Reset Buttons
    resetTasksBtn.addEventListener('click', () => {
      savedTasks.forEach(task => task.completed = false);
      localStorage.setItem('devopsTasksByLevel', JSON.stringify(savedTasks));
      renderLevels();
    });

    resetBooksBtn.addEventListener('click', () => {
      savedBooks.forEach(book => book.completed = false);
      localStorage.setItem('devopsBooks', JSON.stringify(savedBooks));
      renderBooks();
    });

    // Initial Render
    renderLevels();
    renderBooks();
  </script>

</body>
</html>
