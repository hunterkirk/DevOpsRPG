<!DOCTYPE html>
<html lang="en" class="bg-gray-900 text-white">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DevOps Wizardry RPG</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .task-item.completed {
      text-decoration: line-through;
      color: #22c55e;
    }
  </style>
</head>
<body class="p-8">

  <div class="max-w-3xl mx-auto bg-gray-800 rounded-2xl shadow-lg p-6">
    <h1 class="text-3xl font-bold mb-4 text-yellow-300">üßô‚Äç‚ôÇÔ∏è DevOps Wizardry RPG</h1>
    <p class="mb-4 text-gray-300">Progress through 10 levels of DevOps mastery. Complete all 100 tasks to become a DevOps Wizard!</p>

    <div class="mb-4">
      <div class="bg-gray-700 rounded-full h-4">
        <div id="progress-bar" class="bg-green-500 h-4 rounded-full" style="width: 0%"></div>
      </div>
      <p id="progress-text" class="text-sm mt-1 text-gray-300">0/100 tasks complete</p>
    </div>

    <div id="levels-container" class="space-y-6"></div>

    <button id="reset-btn" class="mt-6 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition">Reset Progress</button>
  </div>

  <script>
    const levelsContainer = document.getElementById('levels-container');
    const progressBarEl = document.getElementById('progress-bar');
    const progressTextEl = document.getElementById('progress-text');
    const resetBtn = document.getElementById('reset-btn');

    // Create tasks by level
    const levels = [
      'Level 1: Git & Version Control Basics',
      'Level 2: Continuous Integration (CI)',
      'Level 3: Continuous Delivery (CD)',
      'Level 4: Containerization',
      'Level 5: Infrastructure as Code (IaC)',
      'Level 6: Cloud Fundamentals',
      'Level 7: Monitoring & Observability',
      'Level 8: Security & Compliance',
      'Level 9: Automation & Scripting',
      'Level 10: Scaling & Performance Tuning'
    ];

    const tasks = [];
    let taskId = 1;
    levels.forEach((level, i) => {
      for (let j = 1; j <= 10; j++) {
        tasks.push({
          id: taskId,
          level: i + 1,
          description: `${level} - Task ${j}`,
          completed: false
        });
        taskId++;
      }
    });

    // Load progress from localStorage
    const savedProgress = JSON.parse(localStorage.getItem('devopsTasksByLevel')) || tasks;

    function renderLevels() {
      levelsContainer.innerHTML = '';
      levels.forEach((levelTitle, i) => {
        const levelTasks = savedProgress.filter(task => task.level === i + 1);
        const levelEl = document.createElement('div');
        levelEl.className = 'bg-gray-700 rounded p-4';

        const header = document.createElement('h2');
        header.className = 'text-xl font-bold text-purple-300 mb-2';
        header.textContent = levelTitle;
        levelEl.appendChild(header);

        const ul = document.createElement('ul');
        ul.className = 'space-y-2';
        levelTasks.forEach(task => {
          const li = document.createElement('li');
          li.className = 'flex items-center bg-gray-600 rounded p-2';
          li.innerHTML = `
            <input type="checkbox" class="mr-2" ${task.completed ? 'checked' : ''} data-id="${task.id}">
            <span class="task-item ${task.completed ? 'completed' : ''}">${task.description}</span>
          `;
          ul.appendChild(li);
        });

        levelEl.appendChild(ul);
        levelsContainer.appendChild(levelEl);
      });
      updateProgress();
    }

    function updateProgress() {
      const completedCount = savedProgress.filter(task => task.completed).length;
      const progress = (completedCount / savedProgress.length) * 100;
      progressBarEl.style.width = `${progress}%`;
      progressTextEl.textContent = `${completedCount}/100 tasks complete`;
    }

    levelsContainer.addEventListener('change', (e) => {
      if (e.target.tagName === 'INPUT') {
        const taskId = Number(e.target.getAttribute('data-id'));
        const task = savedProgress.find(t => t.id === taskId);
        task.completed = e.target.checked;
        localStorage.setItem('devopsTasksByLevel', JSON.stringify(savedProgress));
        renderLevels();
      }
    });

    resetBtn.addEventListener('click', () => {
      savedProgress.forEach(task => task.completed = false);
      localStorage.setItem('devopsTasksByLevel', JSON.stringify(savedProgress));
      renderLevels();
    });

    renderLevels();
  </script>

</body>
</html>
